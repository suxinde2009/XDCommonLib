<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDCommonLib: NSString(RegexCategory) Category Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDCommonLib
   &#160;<span id="projectnumber">0.0.17</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="category_n_s_string_07_regex_category_08-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NSString(RegexCategory) Category Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="">NSString+RegexCategory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:af330a1211abbb4d17b6c1ddceb9c94ba"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#af330a1211abbb4d17b6c1ddceb9c94ba">isMobileNumberClassification</a></td></tr>
<tr class="separator:af330a1211abbb4d17b6c1ddceb9c94ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745f00570a924a6d75747d7daaccbaf3"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#a745f00570a924a6d75747d7daaccbaf3">isMobileNumber</a></td></tr>
<tr class="separator:a745f00570a924a6d75747d7daaccbaf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2dc8ceff44f85a21a773d6866584fb"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#a0e2dc8ceff44f85a21a773d6866584fb">isEmailAddress</a></td></tr>
<tr class="separator:a0e2dc8ceff44f85a21a773d6866584fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f87f95a550cc5d4a09f790297a3fe81"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#a4f87f95a550cc5d4a09f790297a3fe81">simpleVerifyIdentityCardNum</a></td></tr>
<tr class="separator:a4f87f95a550cc5d4a09f790297a3fe81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccaefa412279ecdd8e1f516563015ab"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#adccaefa412279ecdd8e1f516563015ab">isCarNumber</a></td></tr>
<tr class="separator:adccaefa412279ecdd8e1f516563015ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab442a14757cc3f3db6ac753af088b5cf"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#ab442a14757cc3f3db6ac753af088b5cf">bankCardluhmCheck</a></td></tr>
<tr class="separator:ab442a14757cc3f3db6ac753af088b5cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ac5650ef44462e42409ae372db8b2f"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#ac7ac5650ef44462e42409ae372db8b2f">isIPAddress</a></td></tr>
<tr class="separator:ac7ac5650ef44462e42409ae372db8b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f1f6d6df01b945744d214895b20ac4"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#af4f1f6d6df01b945744d214895b20ac4">isMacAddress</a></td></tr>
<tr class="separator:af4f1f6d6df01b945744d214895b20ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838c90f4a04afaf8ebb05089debaf37c"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#a838c90f4a04afaf8ebb05089debaf37c">isValidUrl</a></td></tr>
<tr class="separator:a838c90f4a04afaf8ebb05089debaf37c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab271da006ad073d8143ab0996210861d"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#ab271da006ad073d8143ab0996210861d">isValidChinese</a></td></tr>
<tr class="separator:ab271da006ad073d8143ab0996210861d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0dc201418562af24b5d7e9ca9430a2"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#afd0dc201418562af24b5d7e9ca9430a2">isValidPostalcode</a></td></tr>
<tr class="separator:afd0dc201418562af24b5d7e9ca9430a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae74a7f9b1ca28fd08fb6693195d2a428"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#ae74a7f9b1ca28fd08fb6693195d2a428">isValidTaxNo</a></td></tr>
<tr class="separator:ae74a7f9b1ca28fd08fb6693195d2a428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132e1ced5b9c3471ba77f903c0667698"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#a132e1ced5b9c3471ba77f903c0667698">isValidWithMinLenth:maxLenth:containChinese:firstCannotBeDigtal:</a></td></tr>
<tr class="memdesc:a132e1ced5b9c3471ba77f903c0667698"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否符合最小长度、最长长度，是否包含中文,首字母是否可以为数字  <a href="#a132e1ced5b9c3471ba77f903c0667698">More...</a><br /></td></tr>
<tr class="separator:a132e1ced5b9c3471ba77f903c0667698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927aeaea786678744ee1ad3baa1fbb20"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_string_07_regex_category_08.html#a927aeaea786678744ee1ad3baa1fbb20">isValidWithMinLenth:maxLenth:containChinese:containDigtal:containLetter:containOtherCharacter:firstCannotBeDigtal:</a></td></tr>
<tr class="memdesc:a927aeaea786678744ee1ad3baa1fbb20"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否符合最小长度、最长长度，是否包含中文,数字，字母，其他字符，首字母是否可以为数字  <a href="#a927aeaea786678744ee1ad3baa1fbb20">More...</a><br /></td></tr>
<tr class="separator:a927aeaea786678744ee1ad3baa1fbb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a3fe31af1c0e21fc31bb416de0efbf97a"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="category_n_s_string_07_regex_category_08.html#a3fe31af1c0e21fc31bb416de0efbf97a">accurateVerifyIDCardNumber:</a></td></tr>
<tr class="separator:a3fe31af1c0e21fc31bb416de0efbf97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>正则表达式简单说明 语法： . 匹配除换行符以外的任意字符  匹配字母或数字或下划线或汉字  匹配任意的空白符  匹配数字 <b>匹配单词的开始或结束</b> ^ 匹配字符串的开始 $ 匹配字符串的结束 重复零次或更多次</p><ul>
<li>重复一次或更多次 ? 重复零次或一次 {n} 重复n次 {n,} 重复n次或更多次 {n,m} 重复n到m次  匹配任意不是字母，数字，下划线，汉字的字符  匹配任意不是空白符的字符  匹配任意非数字的字符  匹配不是单词开头或结束的位置 [^x] 匹配除了x以外的任意字符 [^aeiou]匹配除了aeiou这几个字母以外的任意字符 ? 重复任意次，但尽可能少重复 +? 重复1次或更多次，但尽可能少重复 ?? 重复0次或1次，但尽可能少重复 {n,m}? 重复n到m次，但尽可能少重复 {n,}? 重复n次以上，但尽可能少重复 <em>报警字符</em>(打印它的效果是电脑嘀一声) <b>通常是单词分界位置，但如果在字符类里使用代表退格</b>  制表符，Tab  回车  竖向制表符  换页符 <br />
 换行符 <em>Escape</em> \0nn ASCII代码中八进制代码为nn的字符  ASCII代码中十六进制代码为nn的字符  Unicode代码中十六进制代码为nnnn的字符  ASCII控制字符。比如代表Ctrl+C  字符串开头(类似^，但不受处理多行选项的影响)  字符串结尾或行尾(不受处理多行选项的影响)  字符串结尾(类似$，但不受处理多行选项的影响)  当前搜索的开头 <code></code>{name} Unicode中命名为name的字符类，例如<code></code>{IsGreek} (?&gt;exp) 贪婪子表达式 (?&lt;x&gt;-&lt;y&gt;exp) 平衡组 (?im-nsx:exp) 在子表达式exp中改变处理选项 (?im-nsx) 为表达式后面的部分改变处理选项 (?(exp)yes|no) 把exp当作零宽正向先行断言，如果在这个位置能匹配，使用yes作为此组的表达式；否则使用no (?(exp)yes) 同上，只是使用空表达式作为no (?(name)yes|no) 如果命名为name的组捕获到了内容，使用yes作为表达式；否则使用no (?(name)yes) 同上，只是使用空表达式作为no</li>
</ul>
<p>捕获 (exp) 匹配exp,并捕获文本到自动命名的组里 (?&lt;name&gt;exp) 匹配exp,并捕获文本到名称为name的组里，也可以写成(?'name'exp) (?:exp) 匹配exp,不捕获匹配的文本，也不给此分组分配组号 零宽断言 (?=exp) 匹配exp前面的位置 (?&lt;=exp) 匹配exp后面的位置 (?!exp) 匹配后面跟的不是exp的位置 (?&lt;!exp) 匹配前面不是exp的位置 注释 (?#comment) 这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读</p>
<p>表达式：(?0{2}[) -]?{8} 这个表达式可以匹配几种格式的电话号码，像(010)88886666，或022-22334455，或02912345678等。 我们对它进行一些分析吧： 首先是一个转义字符(,它能出现0次或1次(?),然后是一个0，后面跟着2个数字({2})，然后是)或-或空格中的一个，它出现1次或不出现(?)， 最后是8个数字({8}) </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a3fe31af1c0e21fc31bb416de0efbf97a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) accurateVerifyIDCardNumber: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>value</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>精确的身份证号码有效性检测</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>身份证号 </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                  :(NSString *)value {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    value = [value stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">int</span> length =0;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (!value) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        length = (int)value.length;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        if (length !=15 &amp;&amp; length !=18) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// 省份代码</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    NSArray *areasArray =@[@&quot;11&quot;,@&quot;12&quot;, @&quot;13&quot;,@&quot;14&quot;, @&quot;15&quot;,@&quot;21&quot;, @&quot;22&quot;,@&quot;23&quot;, @&quot;31&quot;,@&quot;32&quot;, @&quot;33&quot;,@&quot;34&quot;, @&quot;35&quot;,@&quot;36&quot;, @&quot;37&quot;,@&quot;41&quot;, @&quot;42&quot;,@&quot;43&quot;, @&quot;44&quot;,@&quot;45&quot;, @&quot;46&quot;,@&quot;50&quot;, @&quot;51&quot;,@&quot;52&quot;, @&quot;53&quot;,@&quot;54&quot;, @&quot;61&quot;,@&quot;62&quot;, @&quot;63&quot;,@&quot;64&quot;, @&quot;65&quot;,@&quot;71&quot;, @&quot;81&quot;,@&quot;82&quot;, @&quot;91&quot;];</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    NSString *valueStart2 = [value substringToIndex:2];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    BOOL areaFlag =NO;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">for</span> (NSString *areaCode in areasArray) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">if</span> ([areaCode isEqualToString:valueStart2]) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            areaFlag =YES;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (!areaFlag) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    NSRegularExpression *regularExpression;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    NSUInteger numberofMatch;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">int</span> year =0;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">switch</span> (length) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">case</span> 15:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            year = [value substringWithRange:NSMakeRange(6,2)].intValue +1900;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">if</span> (year %4 ==0 || (year %100 ==0 &amp;&amp; year %4 ==0)) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                regularExpression = [[NSRegularExpression alloc] initWithPattern:@&quot;^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$&quot;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                                         options:NSRegularExpressionCaseInsensitive</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                                           error:nil];<span class="comment">//测试出生日期的合法性</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                regularExpression = [[NSRegularExpression alloc]initWithPattern:@&quot;^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$&quot;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                                        options:NSRegularExpressionCaseInsensitive</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                                                          error:nil];<span class="comment">//测试出生日期的合法性</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            numberofMatch = [regularExpression numberOfMatchesInString:value</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                                               options:NSMatchingReportProgress</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                                                 range:NSMakeRange(0, value.length)];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">if</span>(numberofMatch &gt;0) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">case</span> 18:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            year = [value substringWithRange:NSMakeRange(6,4)].intValue;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">if</span> (year %4 ==0 || (year %100 ==0 &amp;&amp; year %4 ==0)) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                regularExpression = [[NSRegularExpression alloc] initWithPattern:@&quot;^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$&quot;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                                                         options:NSRegularExpressionCaseInsensitive</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                                                           error:nil];<span class="comment">//测试出生日期的合法性</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                regularExpression = [[NSRegularExpression alloc] initWithPattern:@&quot;^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$&quot;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                                         options:NSRegularExpressionCaseInsensitive</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                                                           error:nil];<span class="comment">//测试出生日期的合法性</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            numberofMatch = [regularExpression numberOfMatchesInString:value</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                                               options:NSMatchingReportProgress</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                                                 range:NSMakeRange(0, value.length)];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">if</span>(numberofMatch &gt;0) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordtype">int</span> S = ([value substringWithRange:NSMakeRange(0,1)].intValue + [value substringWithRange:NSMakeRange(10,1)].intValue) *7 + ([value substringWithRange:NSMakeRange(1,1)].intValue + [value substringWithRange:NSMakeRange(11,1)].intValue) *9 + ([value substringWithRange:NSMakeRange(2,1)].intValue + [value substringWithRange:NSMakeRange(12,1)].intValue) *10 + ([value substringWithRange:NSMakeRange(3,1)].intValue + [value substringWithRange:NSMakeRange(13,1)].intValue) *5 + ([value substringWithRange:NSMakeRange(4,1)].intValue + [value substringWithRange:NSMakeRange(14,1)].intValue) *8 + ([value substringWithRange:NSMakeRange(5,1)].intValue + [value substringWithRange:NSMakeRange(15,1)].intValue) *4 + ([value substringWithRange:NSMakeRange(6,1)].intValue + [value substringWithRange:NSMakeRange(16,1)].intValue) *2 + [value substringWithRange:NSMakeRange(7,1)].intValue *1 + [value substringWithRange:NSMakeRange(8,1)].intValue *6 + [value substringWithRange:NSMakeRange(9,1)].intValue *3;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="_u_i_text_field_09_history_8m.html#ab065b98b9ec8506204d88688a8a0ea45">Y</a> = S %11;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                NSString *M =<span class="stringliteral">@&quot;F&quot;</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                NSString *JYM =<span class="stringliteral">@&quot;10X98765432&quot;</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                M = [JYM substringWithRange:NSMakeRange(Y,1)];<span class="comment">// 判断校验位</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="keywordflow">if</span> ([M isEqualToString:[value substringWithRange:NSMakeRange(17,1)]]) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <span class="keywordflow">return</span> YES;<span class="comment">// 检测ID的校验位</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="ttc" id="_u_i_text_field_09_history_8m_html_ab065b98b9ec8506204d88688a8a0ea45"><div class="ttname"><a href="_u_i_text_field_09_history_8m.html#ab065b98b9ec8506204d88688a8a0ea45">Y</a></div><div class="ttdeci">#define Y(view)</div><div class="ttdef"><b>Definition:</b> UITextField+History.m:13</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab442a14757cc3f3db6ac753af088b5cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) bankCardluhmCheck </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>银行卡的有效性</p>
<p>银行卡号有效性问题Luhn算法 现行 16 位银联卡现行卡号开头 6 位是 622126～622925 之间的，7 到 15 位是银行自定义的， 可能是发卡分行，发卡网点，发卡序号，第 16 位是校验码。 16 位卡号校验位采用 Luhm 校验方法计算： 1，将未带校验位的 15 位卡号从右依次编号 1 到 15，位于奇数位号上的数字乘以 2 2，将奇位乘积的个十位全部相加，再加上所有偶数位上的数字 3，将加法和加上校验位能被 10 整除。 </p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                         {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    NSString * lastNum = [[<span class="keyword">self</span> substringFromIndex:(self.length-1)] copy];<span class="comment">//取出最后一位</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    NSString * forwardNum = [[<span class="keyword">self</span> substringToIndex:(self.length -1)] copy];<span class="comment">//前15或18位</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    NSMutableArray * forwardArr = [[NSMutableArray alloc] initWithCapacity:0];</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;forwardNum.length; i++) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        NSString * subStr = [forwardNum substringWithRange:NSMakeRange(i, 1)];</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        [forwardArr addObject:subStr];</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    NSMutableArray * forwardDescArr = [[NSMutableArray alloc] initWithCapacity:0];</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)(forwardArr.count-1); i&gt; -1; i--) {<span class="comment">//前15位或者前18位倒序存进数组</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        [forwardDescArr addObject:forwardArr[i]];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    NSMutableArray * arrOddNum = [[NSMutableArray alloc] initWithCapacity:0];<span class="comment">//奇数位*2的积 &lt; 9</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    NSMutableArray * arrOddNum2 = [[NSMutableArray alloc] initWithCapacity:0];<span class="comment">//奇数位*2的积 &gt; 9</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    NSMutableArray * arrEvenNum = [[NSMutableArray alloc] initWithCapacity:0];<span class="comment">//偶数位数组</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    for (<span class="keywordtype">int</span> i=0; i&lt; forwardDescArr.count; i++) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        NSInteger num = [forwardDescArr[i] intValue];</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (i%2) {<span class="comment">//偶数位</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            [arrEvenNum addObject:[NSNumber numberWithInteger:num]];</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }<span class="keywordflow">else</span>{<span class="comment">//奇数位</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> (num * 2 &lt; 9) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                [arrOddNum addObject:[NSNumber numberWithInteger:num * 2]];</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                NSInteger decadeNum = (num * 2) / 10;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                NSInteger unitNum = (num * 2) % 10;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                [arrOddNum2 addObject:[NSNumber numberWithInteger:unitNum]];</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                [arrOddNum2 addObject:[NSNumber numberWithInteger:decadeNum]];</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    __block  NSInteger sumOddNumTotal = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    [arrOddNum enumerateObjectsUsingBlock:^(NSNumber * obj, NSUInteger idx, BOOL *stop) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        sumOddNumTotal += [obj integerValue];</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }];</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    __block NSInteger sumOddNum2Total = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    [arrOddNum2 enumerateObjectsUsingBlock:^(NSNumber * obj, NSUInteger idx, BOOL *stop) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        sumOddNum2Total += [obj integerValue];</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }];</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    __block NSInteger sumEvenNumTotal =0 ;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    [arrEvenNum enumerateObjectsUsingBlock:^(NSNumber * obj, NSUInteger idx, BOOL *stop) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        sumEvenNumTotal += [obj integerValue];</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    NSInteger lastNumber = [lastNum integerValue];</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    NSInteger luhmTotal = lastNumber + sumEvenNumTotal + sumOddNum2Total + sumOddNumTotal;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> (luhmTotal%10 ==0)?YES:NO;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adccaefa412279ecdd8e1f516563015ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isCarNumber </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>车牌号的有效性 </p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                   {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">//车牌号:湘K-DE829 香港车牌号码:粤Z-J499港</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    NSString *carRegex = <span class="stringliteral">@&quot;^[\u4e00-\u9fff]{1}[a-zA-Z]{1}[-][a-zA-Z_0-9]{4}[a-zA-Z_0-9_\u4e00-\u9fff]$&quot;</span>;<span class="comment">//其中\u4e00-\u9fa5表示unicode编码中汉字已编码部分，\u9fa5-\u9fff是保留部分，将来可能会添加</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:carRegex];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e2dc8ceff44f85a21a773d6866584fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isEmailAddress </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>邮箱的有效性 </p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                      {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    NSString *emailRegex = <span class="stringliteral">@&quot;[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}&quot;</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:emailRegex];</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac7ac5650ef44462e42409ae372db8b2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isIPAddress </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IP地址有效性 </p>
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                   {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    NSString *regex = [NSString stringWithFormat:@&quot;^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$&quot;];</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    NSPredicate *pre = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES %@&quot;,regex];</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    BOOL rc = [pre evaluateWithObject:self];</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (rc) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        NSArray *componds = [<span class="keyword">self</span> componentsSeparatedByString:@&quot;,&quot;];</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        BOOL v = YES;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">for</span> (NSString *s in componds) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">if</span> (s.integerValue &gt; 255) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                v = NO;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4f1f6d6df01b945744d214895b20ac4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isMacAddress </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mac地址有效性 </p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    NSString * macAddRegex = <span class="stringliteral">@&quot;([A-Fa-f\\d]{2}:){5}[A-Fa-f\\d]{2}&quot;</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span>  [<span class="keyword">self</span> isValidateByRegex:macAddRegex];</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a745f00570a924a6d75747d7daaccbaf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isMobileNumber </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>手机号有效性 </p>
<p>手机号以13、15、18、170开头，8个  数字字符 小灵通 区号：010,020,021,022,023,024,025,027,028,029 还有未设置的新区号xxx</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                      {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    NSString *mobileNoRegex = <span class="stringliteral">@&quot;^1((3\\d|5[0-35-9]|8[025-9])\\d|70[059])\\d{7}$&quot;</span>;<span class="comment">//除4以外的所有个位整数，不能使用[^4,\\d]匹配，这里是否iOS Bug?</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    NSString *phsRegex =<span class="stringliteral">@&quot;^0(10|2[0-57-9]|\\d{3})\\d{7,8}$&quot;</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    BOOL ret = [<span class="keyword">self</span> isValidateByRegex:mobileNoRegex];</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    BOOL ret1 = [<span class="keyword">self</span> isValidateByRegex:phsRegex];</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> (ret || ret1);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af330a1211abbb4d17b6c1ddceb9c94ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isMobileNumberClassification </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>手机号码的有效性:分电信、联通、移动和小灵通 </p>
<p>手机号码 移动：134[0-8],135,136,137,138,139,150,151,157,158,159,182,187,188,1705 联通：130,131,132,152,155,156,185,186,1709 电信：133,1349,153,180,189,1700</p>
<p>10 * 中国移动：China Mobile 11 * 134[0-8],135,136,137,138,139,150,151,157,158,159,182,187,188，1705 12</p>
<p>15 * 中国联通：China Unicom 16 * 130,131,132,152,155,156,185,186,1709 17</p>
<p>20 * 中国电信：China Telecom 21 * 133,1349,153,180,189,1700 22</p>
<p>25 * 大陆地区固话及小灵通 26 * 区号：010,020,021,022,023,024,025,027,028,029 27 * 号码：七位或八位 28 </p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                    {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">//    NSString * MOBILE = @&quot;^1((3//d|5[0-35-9]|8[025-9])//d|70[059])\\d{7}$&quot;;//总况</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    NSString * CM = <span class="stringliteral">@&quot;^1(34[0-8]|(3[5-9]|5[017-9]|8[278])\\d|705)\\d{7}$&quot;</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    NSString * CU = <span class="stringliteral">@&quot;^1((3[0-2]|5[256]|8[56])\\d|709)\\d{7}$&quot;</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    NSString * CT = <span class="stringliteral">@&quot;^1((33|53|8[09])\\d|349|700)\\d{7}$&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    NSString * PHS = <span class="stringliteral">@&quot;^0(10|2[0-5789]|\\d{3})\\d{7,8}$&quot;</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">//    NSPredicate *regextestmobile = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES %@&quot;, MOBILE];</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (([<span class="keyword">self</span> isValidateByRegex:CM])</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        || ([<span class="keyword">self</span> isValidateByRegex:CU])</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        || ([<span class="keyword">self</span> isValidateByRegex:CT])</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        || ([<span class="keyword">self</span> isValidateByRegex:PHS]))</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab271da006ad073d8143ab0996210861d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isValidChinese </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>纯汉字 </p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    NSString *chineseRegex = <span class="stringliteral">@&quot;^[\u4e00-\u9fa5]+$&quot;</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:chineseRegex];</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd0dc201418562af24b5d7e9ca9430a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isValidPostalcode </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>邮政编码 </p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                          {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    NSString *postalRegex = <span class="stringliteral">@&quot;^[0-8]\\d{5}(?!\\d)$&quot;</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:postalRegex];</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae74a7f9b1ca28fd08fb6693195d2a428"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isValidTaxNo </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>工商税号 </p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    NSString *taxNoRegex = <span class="stringliteral">@&quot;[0-9]\\d{13}([0-9]|X)$&quot;</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:taxNoRegex];</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a838c90f4a04afaf8ebb05089debaf37c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isValidUrl </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>网址有效性 </p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    NSString *regex = <span class="stringliteral">@&quot;^((http)|(https))+:[^\\s]+\\.[^\\s]*$&quot;</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:regex];</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a927aeaea786678744ee1ad3baa1fbb20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isValidWithMinLenth: </td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>minLenth</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxLenth:</td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>maxLenth</em></td>
        </tr>
        <tr>
          <td class="paramkey">containChinese:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>containChinese</em></td>
        </tr>
        <tr>
          <td class="paramkey">containDigtal:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>containDigtal</em></td>
        </tr>
        <tr>
          <td class="paramkey">containLetter:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>containLetter</em></td>
        </tr>
        <tr>
          <td class="paramkey">containOtherCharacter:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>containOtherCharacter</em></td>
        </tr>
        <tr>
          <td class="paramkey">firstCannotBeDigtal:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>firstCannotBeDigtal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>是否符合最小长度、最长长度，是否包含中文,数字，字母，其他字符，首字母是否可以为数字 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minLenth</td><td>账号最小长度 </td></tr>
    <tr><td class="paramname">maxLenth</td><td>账号最长长度 </td></tr>
    <tr><td class="paramname">containChinese</td><td>是否包含中文 </td></tr>
    <tr><td class="paramname">containDigtal</td><td>包含数字 </td></tr>
    <tr><td class="paramname">containLetter</td><td>包含字母 </td></tr>
    <tr><td class="paramname">containOtherCharacter</td><td>其他字符 </td></tr>
    <tr><td class="paramname">firstCannotBeDigtal</td><td>首字母不能为数字 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>正则验证成功返回YES, 否则返回NO </dd></dl>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                           :(NSInteger)minLenth</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                   maxLenth:(NSInteger)maxLenth</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;             containChinese:(BOOL)containChinese</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;              containDigtal:(BOOL)containDigtal</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;              containLetter:(BOOL)containLetter</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      containOtherCharacter:(NSString *)containOtherCharacter</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        firstCannotBeDigtal:(BOOL)firstCannotBeDigtal;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    NSString *hanzi = containChinese ? <span class="stringliteral">@&quot;\u4e00-\u9fa5&quot;</span> : <span class="stringliteral">@&quot;&quot;</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    NSString *first = firstCannotBeDigtal ? <span class="stringliteral">@&quot;^[a-zA-Z_]&quot;</span> : <span class="stringliteral">@&quot;&quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    NSString *lengthRegex = [NSString stringWithFormat:@&quot;(?=^.{%@,%@}$)&quot;, @(minLenth), @(maxLenth)];</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    NSString *digtalRegex = containDigtal ? <span class="stringliteral">@&quot;(?=(.*\\d.*){1})&quot;</span> : <span class="stringliteral">@&quot;&quot;</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    NSString *letterRegex = containLetter ? <span class="stringliteral">@&quot;(?=(.*[a-zA-Z].*){1})&quot;</span> : <span class="stringliteral">@&quot;&quot;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    NSString *characterRegex = [NSString stringWithFormat:@&quot;(?:%@[%@A-Za-z0-9%@]+)&quot;, first, hanzi, containOtherCharacter ? containOtherCharacter : @&quot;&quot;];</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    NSString *regex = [NSString stringWithFormat:@&quot;%@%@%@%@&quot;, lengthRegex, digtalRegex, letterRegex, characterRegex];</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:regex];</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a132e1ced5b9c3471ba77f903c0667698"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isValidWithMinLenth: </td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>minLenth</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxLenth:</td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>maxLenth</em></td>
        </tr>
        <tr>
          <td class="paramkey">containChinese:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>containChinese</em></td>
        </tr>
        <tr>
          <td class="paramkey">firstCannotBeDigtal:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>firstCannotBeDigtal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>是否符合最小长度、最长长度，是否包含中文,首字母是否可以为数字 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minLenth</td><td>账号最小长度 </td></tr>
    <tr><td class="paramname">maxLenth</td><td>账号最长长度 </td></tr>
    <tr><td class="paramname">containChinese</td><td>是否包含中文 </td></tr>
    <tr><td class="paramname">firstCannotBeDigtal</td><td>首字母不能为数字 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>正则验证成功返回YES, 否则返回NO </dd></dl>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                           :(NSInteger)minLenth</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                   maxLenth:(NSInteger)maxLenth</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;             containChinese:(BOOL)containChinese</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        firstCannotBeDigtal:(BOOL)firstCannotBeDigtal;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">//  [\u4e00-\u9fa5A-Za-z0-9_]{4,20}</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    NSString *hanzi = containChinese ? <span class="stringliteral">@&quot;\u4e00-\u9fa5&quot;</span> : <span class="stringliteral">@&quot;&quot;</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    NSString *first = firstCannotBeDigtal ? <span class="stringliteral">@&quot;^[a-zA-Z_]&quot;</span> : <span class="stringliteral">@&quot;&quot;</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    NSString *regex = [NSString stringWithFormat:@&quot;%@[%@A-Za-z0-9_]{%d,%d}&quot;, first, hanzi, (int)(minLenth-1), (int)(maxLenth-1)];</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:regex];</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f87f95a550cc5d4a09f790297a3fe81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) simpleVerifyIdentityCardNum </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>简单的身份证有效性 </p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    NSString *regex2 = <span class="stringliteral">@&quot;^(\\d{14}|\\d{17})(\\d|[xX])$&quot;</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> isValidateByRegex:regex2];</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this category was generated from the following files:<ul>
<li>XDCommonLib/CommonBasicComponentLayer/Categories/Foundation/NSString/<a class="el" href="">NSString+RegexCategory.m</a></li>
<li>XDCommonLib/CommonBasicComponentLayer/Categories/Foundation/NSString/<a class="el" href="">NSString+RegexCategory.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 1 2016 23:11:04 for XDCommonLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>

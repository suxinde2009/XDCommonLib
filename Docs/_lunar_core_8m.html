<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDCommonLib: XDCommonLib/CommonBasicComponentLayer/Utils/LunarCore/LunarCore.m File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDCommonLib
   &#160;<span id="projectnumber">0.0.17</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_be318eca8d47d4fdef2739343cbc04b2.html">XDCommonLib</a></li><li class="navelem"><a class="el" href="dir_bb3889cab8a2f0b9c92d52cd98ec6d47.html">CommonBasicComponentLayer</a></li><li class="navelem"><a class="el" href="dir_a7c145e73d02fe78208e98c17010b66e.html">Utils</a></li><li class="navelem"><a class="el" href="dir_715e91f9f27f2241df0c3d340475fc57.html">LunarCore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LunarCore.m File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#import &quot;<a class="el" href="">LunarCore.h</a>&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_l_c_memory_cache.html">LCMemoryCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3400a98b14dddde64144bcc45a518dc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_l_c_memory_cache.html">LCMemoryCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a3400a98b14dddde64144bcc45a518dc0">memoryCache</a> ()</td></tr>
<tr class="separator:a3400a98b14dddde64144bcc45a518dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d94d930166b970e8479f5d9ecad61ca"><td class="memItemLeft" align="right" valign="top">NSTimeZone *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a> ()</td></tr>
<tr class="separator:a4d94d930166b970e8479f5d9ecad61ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699e88c46f2b968e39fc9ccd7635167c"><td class="memItemLeft" align="right" valign="top">NSMutableArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a699e88c46f2b968e39fc9ccd7635167c">createMonthData</a> (int year, int month, int len, int start)</td></tr>
<tr class="separator:a699e88c46f2b968e39fc9ccd7635167c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8795710a7b6c30550e0ee10ea53693f"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#af8795710a7b6c30550e0ee10ea53693f">errorCode</a> ()</td></tr>
<tr class="separator:af8795710a7b6c30550e0ee10ea53693f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7526177c91cb65a4e696b532d52b95"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a> (int month, int day)</td></tr>
<tr class="separator:a7c7526177c91cb65a4e696b532d52b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e11048dc53866788c8ae7dca2816a8"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a> ()</td></tr>
<tr class="separator:a49e11048dc53866788c8ae7dca2816a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9568b393ebd79d15260a85adeb2952"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a5b9568b393ebd79d15260a85adeb2952">worktime</a> ()</td></tr>
<tr class="separator:a5b9568b393ebd79d15260a85adeb2952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ec519373f5e98c9d67866fd2ff21a3"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#ab6ec519373f5e98c9d67866fd2ff21a3">solarFestival</a> ()</td></tr>
<tr class="separator:ab6ec519373f5e98c9d67866fd2ff21a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b98fa41147c6a77d2d8af84ad5a391d"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a6b98fa41147c6a77d2d8af84ad5a391d">lunarFestival</a> ()</td></tr>
<tr class="separator:a6b98fa41147c6a77d2d8af84ad5a391d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5461dae8383f7245b4be922a94c61cd"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#ae5461dae8383f7245b4be922a94c61cd">weekFestival</a> ()</td></tr>
<tr class="separator:ae5461dae8383f7245b4be922a94c61cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46346fd9fd0614c9499c4e4f33ae35b5"><td class="memItemLeft" align="right" valign="top">NSDate *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a46346fd9fd0614c9499c4e4f33ae35b5">Date</a> (int year, int month, int day)</td></tr>
<tr class="separator:a46346fd9fd0614c9499c4e4f33ae35b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71d8c06b4c52bd339023d00835c5fa3"><td class="memItemLeft" align="right" valign="top">NSDate *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#ad71d8c06b4c52bd339023d00835c5fa3">NewDate</a> (int year, int month, int day)</td></tr>
<tr class="separator:ad71d8c06b4c52bd339023d00835c5fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f322823871fa995cb0826fbfba6965"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a67f322823871fa995cb0826fbfba6965">getWeekFestival</a> (int year, int month, int day)</td></tr>
<tr class="separator:a67f322823871fa995cb0826fbfba6965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099d9b08f1b245c171ae348661f863cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a099d9b08f1b245c171ae348661f863cb">getLunarLeapYear</a> (int year)</td></tr>
<tr class="separator:a099d9b08f1b245c171ae348661f863cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59110b3a1afc8b8df7b036e1b4ab70b5"><td class="memItemLeft" align="right" valign="top">NSArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a59110b3a1afc8b8df7b036e1b4ab70b5">toString</a> (int num)</td></tr>
<tr class="separator:a59110b3a1afc8b8df7b036e1b4ab70b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c215258e8fc67993527d789a2a0c516"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a3c215258e8fc67993527d789a2a0c516">getLunarYearDays</a> (int year)</td></tr>
<tr class="separator:a3c215258e8fc67993527d789a2a0c516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f73231b8a0d94a085dc3a6807cc84f1"><td class="memItemLeft" align="right" valign="top">NSMutableArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a4f73231b8a0d94a085dc3a6807cc84f1">getLunarDateByBetween</a> (int year, int between)</td></tr>
<tr class="separator:a4f73231b8a0d94a085dc3a6807cc84f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762e35bd1da1177e7c732be1b5bc2a10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a762e35bd1da1177e7c732be1b5bc2a10">getDaysBetweenSolar</a> (int year, int month, int day, int year1, int month1, int day1)</td></tr>
<tr class="separator:a762e35bd1da1177e7c732be1b5bc2a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f0571804bc48c6a45c9079c24454ac"><td class="memItemLeft" align="right" valign="top">NSMutableArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a47f0571804bc48c6a45c9079c24454ac">getLunarByBetween</a> (int year, int month, int day)</td></tr>
<tr class="separator:a47f0571804bc48c6a45c9079c24454ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac9995e307c532b2521419266ed1efc"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a5ac9995e307c532b2521419266ed1efc">UTC</a> (int year, int month, int day, int hour, int min, int sec)</td></tr>
<tr class="separator:a5ac9995e307c532b2521419266ed1efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40df53b0f7e5714171b893e98ab03984"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a40df53b0f7e5714171b893e98ab03984">getDay</a> (NSDate *date)</td></tr>
<tr class="separator:a40df53b0f7e5714171b893e98ab03984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f2da4fe5f303879a91ffca594f4dee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#ad5f2da4fe5f303879a91ffca594f4dee">getTerm</a> (int y, int n)</td></tr>
<tr class="separator:ad5f2da4fe5f303879a91ffca594f4dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4881cf067cf11d090e2712154d9d1d76"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a4881cf067cf11d090e2712154d9d1d76">getYearTerm</a> (int year)</td></tr>
<tr class="separator:a4881cf067cf11d090e2712154d9d1d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670d9295fa01358a336e32d2c4151d68"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a670d9295fa01358a336e32d2c4151d68">getYearZodiac</a> (int year)</td></tr>
<tr class="separator:a670d9295fa01358a336e32d2c4151d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3af4a582ac85d7f4de13c2aa16ffd1"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a9e3af4a582ac85d7f4de13c2aa16ffd1">cyclical</a> (long num)</td></tr>
<tr class="separator:a9e3af4a582ac85d7f4de13c2aa16ffd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e6636e18bccbe2aa16d8906d48d6d5"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#ac2e6636e18bccbe2aa16d8906d48d6d5">getLunarYearName</a> (int year, int offset)</td></tr>
<tr class="separator:ac2e6636e18bccbe2aa16d8906d48d6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c34a52f578527768d9b89f1db0b87c"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a75c34a52f578527768d9b89f1db0b87c">isLeapYear</a> (int year)</td></tr>
<tr class="separator:a75c34a52f578527768d9b89f1db0b87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e688edba4cf44952ad008c24df92118"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a8e688edba4cf44952ad008c24df92118">getSolarMonthDays</a> (int year, int month)</td></tr>
<tr class="separator:a8e688edba4cf44952ad008c24df92118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe06e1a84a774f57dc43005307edab73"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a> (int year, int month, int day)</td></tr>
<tr class="separator:abe06e1a84a774f57dc43005307edab73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358f2f7e622930a5b930000bdb3a8bdc"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a358f2f7e622930a5b930000bdb3a8bdc">isNewLunarYear</a> (int _year, int _month, int _day)</td></tr>
<tr class="separator:a358f2f7e622930a5b930000bdb3a8bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad491453fa3441f38fe4aa6d2dc3dae17"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#ad491453fa3441f38fe4aa6d2dc3dae17">solarToLunar</a> (int _year, int _month, int _day)</td></tr>
<tr class="separator:ad491453fa3441f38fe4aa6d2dc3dae17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57959ece9b39f45947febc3aaca66e84"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a57959ece9b39f45947febc3aaca66e84">solarCalendar</a> (int _year, int _month)</td></tr>
<tr class="separator:a57959ece9b39f45947febc3aaca66e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a2143e3b4e4dd3b5534f615520cbb1"><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a> (int _year, int _month)</td></tr>
<tr class="separator:a66a2143e3b4e4dd3b5534f615520cbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a66a2143e3b4e4dd3b5534f615520cbb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* calendar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_month</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取指定年月的日历数据</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_year</td><td>公历年 </td></tr>
    <tr><td class="paramname">_month</td><td>公历月</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>该月日历 </dd></dl>
<div class="fragment"><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                                     {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    NSMutableDictionary *inputDate = <a class="code" href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a>(_year, _month, -1);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (inputDate[<span class="stringliteral">@&quot;error&quot;</span>]) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">return</span> inputDate;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordtype">int</span> year = [inputDate[@&quot;year&quot;] intValue];</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">int</span> month = [inputDate[@&quot;month&quot;] intValue];</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    NSMutableDictionary *calendarData = [solarCalendar(year, month + 1) mutableCopy];</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    NSMutableArray *monthData = calendarData[@&quot;monthData&quot;];</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;monthData.count; ++i) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        NSMutableDictionary *cData = monthData[i];</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        NSMutableDictionary *lunarData = <a class="code" href="_lunar_core_8m.html#ad491453fa3441f38fe4aa6d2dc3dae17">solarToLunar</a>([cData[<span class="stringliteral">@&quot;year&quot;</span>] intValue], [cData[<span class="stringliteral">@&quot;month&quot;</span>] intValue], [cData[<span class="stringliteral">@&quot;day&quot;</span>] intValue]);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        NSMutableArray *array = calendarData[@&quot;monthData&quot;];</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        [array[i] addEntriesFromDictionary:lunarData];</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> calendarData;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_abe06e1a84a774f57dc43005307edab73"><div class="ttname"><a href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a></div><div class="ttdeci">NSMutableDictionary * formatDate(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:713</div></div>
<div class="ttc" id="_lunar_core_8m_html_ad491453fa3441f38fe4aa6d2dc3dae17"><div class="ttname"><a href="_lunar_core_8m.html#ad491453fa3441f38fe4aa6d2dc3dae17">solarToLunar</a></div><div class="ttdeci">NSMutableDictionary * solarToLunar(int _year, int _month, int _day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:767</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a699e88c46f2b968e39fc9ccd7635167c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableArray* createMonthData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>以年月和长度构造一个日历</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">len</td><td>参数 </td></tr>
    <tr><td class="paramname">start</td><td>开始日期</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>整月日历 </dd></dl>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                                                         {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    NSMutableArray *monthData = [[NSMutableArray alloc] init];</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (len &lt; 1) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> monthData;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">int</span> k = start;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;len; ++i) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        NSMutableDictionary *dict = [@{ @&quot;year&quot;: @(year), @&quot;month&quot;: @(month), @&quot;day&quot;: @(k) } mutableCopy];</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        ++k;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        [monthData addObject:dict];</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> monthData;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e3af4a582ac85d7f4de13c2aa16ffd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSString* cyclical </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>计算天干地支</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>60进制中的位置(把60个天干地支，当成一个60进制的数)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>天干地支 </dd></dl>
<div class="fragment"><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                             {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    NSString *tiangan = i18n(<a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[<span class="stringliteral">@&quot;heavenlyStems&quot;</span>][num % 10]);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    NSString *dizhi = i18n(<a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[<span class="stringliteral">@&quot;earthlyBranches&quot;</span>][num % 12]);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">return</span> [NSString stringWithFormat:@&quot;%@%@&quot;, tiangan, dizhi];</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;}</div>
<div class="ttc" id="_lunar_core_8m_html_a49e11048dc53866788c8ae7dca2816a8"><div class="ttname"><a href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a></div><div class="ttdeci">NSDictionary * lunarCalendarData()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:158</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46346fd9fd0614c9499c4e4f33ae35b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDate* Date </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>构造 NSDate</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">day</td><td>日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NSDate </dd></dl>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                           {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    NSCalendar *<a class="code" href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a> = [NSCalendar currentCalendar];</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    NSDateComponents *comp = [[NSDateComponents alloc] init];</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    comp.year = year; comp.month = month + 1; comp.day = day;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    NSDate *date = [calendar dateFromComponents:comp];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> date;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="ttc" id="_lunar_core_8m_html_a66a2143e3b4e4dd3b5534f615520cbb1"><div class="ttname"><a href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a></div><div class="ttdeci">NSMutableDictionary * calendar(int _year, int _month)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:911</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8795710a7b6c30550e0ee10ea53693f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDictionary* errorCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                          {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">static</span> NSDictionary *_errCode = nil;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (_errCode == nil) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        _errCode = @{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            @(100): <span class="stringliteral">@&quot;输入的年份超过了可查询范围，仅支持1891至2100年&quot;</span>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            @(101): <span class="stringliteral">@&quot;参数输入错误，请查阅文档&quot;</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        };</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> _errCode;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe06e1a84a774f57dc43005307edab73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* formatDate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>统一日期输入参数（输入月份从1开始，内部月份统一从0开始）</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">day</td><td>日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>格式化后的日期 </dd></dl>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                                              {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    NSDate *now = [NSDate date];</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    gregorian.timeZone = <a class="code" href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a>();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    NSDateComponents *components = [gregorian components:(NSCalendarUnitYear | NSCalendarUnitMonth | NSCalendarUnitDay) fromDate:now];</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordtype">int</span> _year = year;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">int</span> _month = month - 1;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">int</span> _day = (day &gt; 0) ? day: (<span class="keywordtype">int</span>)components.day;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (year &lt; (minYear ? minYear : minYear + 1) || year &gt; maxYear) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">return</span> [@{@&quot;error&quot;: @100, @&quot;msg&quot;: errorCode()[@100]} mutableCopy];</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> [@{</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        @&quot;year&quot;: @(_year),</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        @&quot;month&quot;: @(_month),</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        @&quot;day&quot;: @(_day)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    } mutableCopy];</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a4d94d930166b970e8479f5d9ecad61ca"><div class="ttname"><a href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a></div><div class="ttdeci">NSTimeZone * timeZone()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:92</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7c7526177c91cb65a4e696b532d52b95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSString* formatDay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>格式化日期</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">month</td><td>月份 </td></tr>
    <tr><td class="paramname">day</td><td>日期</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>格式化后的日期 </dd></dl>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> [NSString stringWithFormat:@&quot;d%02d%02d&quot;, (month + 1), day];</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40df53b0f7e5714171b893e98ab03984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getDay </td>
          <td>(</td>
          <td class="paramtype">NSDate *&#160;</td>
          <td class="paramname"><em>date</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>根据 NSDate 获得天</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date</td><td>date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>天 </dd></dl>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                         {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    NSDateComponents *components = [gregorian components:NSCalendarUnitWeekday fromDate:date];</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)components.weekday - 1;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a762e35bd1da1177e7c732be1b5bc2a10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getDaysBetweenSolar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>两个公历日期之间的天数</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">day</td><td>日 </td></tr>
    <tr><td class="paramname">year1</td><td>年2 </td></tr>
    <tr><td class="paramname">month1</td><td>月2 </td></tr>
    <tr><td class="paramname">day1</td><td>日2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>间隔天数 </dd></dl>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                                                                                       {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    NSCalendar *<a class="code" href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a> = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    calendar.timeZone = <a class="code" href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a>();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    NSDateComponents *comp = [[NSDateComponents alloc] init];</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    comp.year = year; comp.month = month + 1; comp.day = day;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    NSDate *date = [calendar dateFromComponents:comp];</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    comp.year = year1; comp.month = month1 + 1; comp.day = day1;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    NSDate *date1 = [calendar dateFromComponents:comp];</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">return</span> ([date1 timeIntervalSince1970] - [date timeIntervalSince1970]) / 86400;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a66a2143e3b4e4dd3b5534f615520cbb1"><div class="ttname"><a href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a></div><div class="ttdeci">NSMutableDictionary * calendar(int _year, int _month)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:911</div></div>
<div class="ttc" id="_lunar_core_8m_html_a4d94d930166b970e8479f5d9ecad61ca"><div class="ttname"><a href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a></div><div class="ttdeci">NSTimeZone * timeZone()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:92</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a47f0571804bc48c6a45c9079c24454ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableArray* getLunarByBetween </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>根据距离正月初一的天数计算农历日期</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>公历年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">day</td><td>日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>农历日期 </dd></dl>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                                                {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordtype">int</span> *yearData = lunarInfo[year - minYear];</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">int</span> zenMonth = yearData[1];</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordtype">int</span> zenDay = yearData[2];</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">int</span> between = <a class="code" href="_lunar_core_8m.html#a762e35bd1da1177e7c732be1b5bc2a10">getDaysBetweenSolar</a>(year, zenMonth - 1, zenDay, year, month, day);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (between == 0) { <span class="comment">//正月初一</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">return</span> [@[@(year), @0, @1] mutableCopy];</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordtype">int</span> lunarYear = (between &gt; 0) ? (year) : (year - 1);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_lunar_core_8m.html#a4f73231b8a0d94a085dc3a6807cc84f1">getLunarDateByBetween</a>(lunarYear, between);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a762e35bd1da1177e7c732be1b5bc2a10"><div class="ttname"><a href="_lunar_core_8m.html#a762e35bd1da1177e7c732be1b5bc2a10">getDaysBetweenSolar</a></div><div class="ttdeci">int getDaysBetweenSolar(int year, int month, int day, int year1, int month1, int day1)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:538</div></div>
<div class="ttc" id="_lunar_core_8m_html_a4f73231b8a0d94a085dc3a6807cc84f1"><div class="ttname"><a href="_lunar_core_8m.html#a4f73231b8a0d94a085dc3a6807cc84f1">getLunarDateByBetween</a></div><div class="ttdeci">NSMutableArray * getLunarDateByBetween(int year, int between)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:507</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f73231b8a0d94a085dc3a6807cc84f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableArray* getLunarDateByBetween </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>between</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>通过间隔天数查找农历日期</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>农历年 </td></tr>
    <tr><td class="paramname">between</td><td>间隔天数</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>农历日期 </dd></dl>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                             {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    NSMutableDictionary *lunarYearDays = <a class="code" href="_lunar_core_8m.html#a3c215258e8fc67993527d789a2a0c516">getLunarYearDays</a>(year);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordtype">int</span> end = between &gt; 0 ? between : [lunarYearDays[@&quot;yearDays&quot;] intValue] - abs(between);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    NSMutableArray *monthDays = lunarYearDays[@&quot;monthDays&quot;];</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordtype">int</span> tempDays = 0;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordtype">int</span> month = 0;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;monthDays.count; ++i) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordtype">int</span> monthDaysI = [monthDays[i] intValue];</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        tempDays += monthDaysI;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (tempDays &gt; end) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            month = i;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            tempDays = tempDays - monthDaysI;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> [@[@(year), @(month), @(end - tempDays + 1)] mutableCopy];</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a3c215258e8fc67993527d789a2a0c516"><div class="ttname"><a href="_lunar_core_8m.html#a3c215258e8fc67993527d789a2a0c516">getLunarYearDays</a></div><div class="ttdeci">NSMutableDictionary * getLunarYearDays(int year)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:467</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a099d9b08f1b245c171ae348661f863cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getLunarLeapYear </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>判断农历年闰月数</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>农历年</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>闰月数 （月份从1开始） </dd></dl>
<div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                               {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordtype">int</span> *yearData = lunarInfo[year - minYear];</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> yearData[0];</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c215258e8fc67993527d789a2a0c516"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* getLunarYearDays </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取农历年份一年的每月的天数及一年的总天数</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>农历年</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>总天数 </dd></dl>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordtype">int</span> *yearData = lunarInfo[year - minYear];</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">int</span> leapMonth = yearData[0]; <span class="comment">// 闰月</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">int</span> monthData = yearData[3];</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    NSMutableArray *monthDataArr = [toString(monthData) mutableCopy];</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// 还原数据至16位,少于16位的在前面插入0（二进制存储时前面的0被忽略）</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16-monthDataArr.count; ++i) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        [monthDataArr insertObject:@0 atIndex:0];</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordtype">int</span> len = leapMonth ? 13 : 12; <span class="comment">// 该年有几个月</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordtype">int</span> yearDays = 0;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    NSMutableArray *monthDays = [[NSMutableArray alloc] init];</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;len; ++i) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> ([monthDataArr[i] intValue] == 0) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            yearDays += 29;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            [monthDays addObject:@29];</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            yearDays += 30;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            [monthDays addObject:@30];</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> [@{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        @&quot;yearDays&quot;: @(yearDays),</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        @&quot;monthDays&quot;: monthDays</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    } mutableCopy];</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2e6636e18bccbe2aa16d8906d48d6d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSString* getLunarYearName </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取干支纪年</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>干支所在年 </td></tr>
    <tr><td class="paramname">offset</td><td>偏移量，默认为0，便于查询一个年跨两个干支纪年（以立春为分界线）</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>干支纪年 </dd></dl>
<div class="fragment"><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                                 {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="comment">// 1890年1月小寒（小寒一般是1月5或6日）以前为己丑年，在60进制中排25</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_lunar_core_8m.html#a9e3af4a582ac85d7f4de13c2aa16ffd1">cyclical</a>(year - 1890 + 25 + offset);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a9e3af4a582ac85d7f4de13c2aa16ffd1"><div class="ttname"><a href="_lunar_core_8m.html#a9e3af4a582ac85d7f4de13c2aa16ffd1">cyclical</a></div><div class="ttdeci">NSString * cyclical(long num)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:657</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e688edba4cf44952ad008c24df92118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getSolarMonthDays </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取公历月份的天数</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>公历年 </td></tr>
    <tr><td class="paramname">month</td><td>公历月</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>该月天数 </dd></dl>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                           {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (month == 1) { <span class="comment">// 二月 闰月处理</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_lunar_core_8m.html#a75c34a52f578527768d9b89f1db0b87c">isLeapYear</a>(year) ? 29 : 28;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// 普通月份查表</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">return</span> solarDaysOfMonth[month];</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a75c34a52f578527768d9b89f1db0b87c"><div class="ttname"><a href="_lunar_core_8m.html#a75c34a52f578527768d9b89f1db0b87c">isLeapYear</a></div><div class="ttdeci">BOOL isLeapYear(int year)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:683</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5f2da4fe5f303879a91ffca594f4dee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getTerm </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                          {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    NSTimeInterval sec = <a class="code" href="_lunar_core_8m.html#a5ac9995e307c532b2521419266ed1efc">UTC</a>(1890, 0, 5, 16, 2, 31);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    sec += (31556925974.7 * (y - 1890)) + (termInfo[n] * 60000.0);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    NSDate *date = [NSDate dateWithTimeIntervalSince1970:(sec / 1000.0)];</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    gregorian.timeZone = <a class="code" href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a>();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    NSDateComponents *components = [gregorian components:(NSCalendarUnitYear | NSCalendarUnitMonth | NSCalendarUnitDay | NSCalendarUnitHour | NSCalendarUnitMinute | NSCalendarUnitSecond) fromDate:date];</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)components.day;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a4d94d930166b970e8479f5d9ecad61ca"><div class="ttname"><a href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a></div><div class="ttdeci">NSTimeZone * timeZone()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:92</div></div>
<div class="ttc" id="_lunar_core_8m_html_a5ac9995e307c532b2521419266ed1efc"><div class="ttname"><a href="_lunar_core_8m.html#a5ac9995e307c532b2521419266ed1efc">UTC</a></div><div class="ttdeci">NSTimeInterval UTC(int year, int month, int day, int hour, int min, int sec)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:580</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67f322823871fa995cb0826fbfba6965"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSString* getWeekFestival </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获得以周为单位的节日</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">day</td><td>日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>节日 </dd></dl>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                                        {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    NSDate *date = <a class="code" href="_lunar_core_8m.html#ad71d8c06b4c52bd339023d00835c5fa3">NewDate</a>(year, month, day);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    NSDateComponents *comps = [gregorian components:NSCalendarUnitWeekday fromDate:date];</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    NSInteger weekDay = comps.weekday;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// 这个时候要数出cWeekDay是第几个</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">int</span> weekDayCount = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> curDay=1; curDay&lt;=day; ++curDay) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        NSDate *curDate = <a class="code" href="_lunar_core_8m.html#ad71d8c06b4c52bd339023d00835c5fa3">NewDate</a>(year, month, curDay);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        NSDateComponents *weekComp = [gregorian components:NSCalendarUnitWeekday fromDate:curDate];</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (weekComp.weekday == weekDay) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            ++weekDayCount;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    NSString *key = [NSString stringWithFormat:@&quot;%02d%d%d&quot;, month, weekDayCount, (int)weekDay];</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    NSString *festival = <a class="code" href="_lunar_core_8m.html#ae5461dae8383f7245b4be922a94c61cd">weekFestival</a>()[key];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (festival) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">return</span> i18n(festival);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="ttc" id="_lunar_core_8m_html_ad71d8c06b4c52bd339023d00835c5fa3"><div class="ttname"><a href="_lunar_core_8m.html#ad71d8c06b4c52bd339023d00835c5fa3">NewDate</a></div><div class="ttdeci">NSDate * NewDate(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:386</div></div>
<div class="ttc" id="_lunar_core_8m_html_ae5461dae8383f7245b4be922a94c61cd"><div class="ttname"><a href="_lunar_core_8m.html#ae5461dae8383f7245b4be922a94c61cd">weekFestival</a></div><div class="ttdeci">NSDictionary * weekFestival()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:333</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4881cf067cf11d090e2712154d9d1d76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* getYearTerm </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取公历年一年的二十四节气</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>日期: 节气名 </dd></dl>
<div class="fragment"><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                                           {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    NSMutableDictionary *res = [[NSMutableDictionary alloc] init];</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordtype">int</span> month = 0;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    NSArray *solarTerm = <a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[@&quot;solarTerm&quot;];</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;24; ++i) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordtype">int</span> day = <a class="code" href="_lunar_core_8m.html#ad5f2da4fe5f303879a91ffca594f4dee">getTerm</a>(year, i);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">if</span> ((i &amp; 1) == 0) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            ++month;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        NSString *key = <a class="code" href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a>(month - 1, day);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        NSString *value = i18n(solarTerm[i]);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        res[key] = value;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a49e11048dc53866788c8ae7dca2816a8"><div class="ttname"><a href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a></div><div class="ttdeci">NSDictionary * lunarCalendarData()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:158</div></div>
<div class="ttc" id="_lunar_core_8m_html_ad5f2da4fe5f303879a91ffca594f4dee"><div class="ttname"><a href="_lunar_core_8m.html#ad5f2da4fe5f303879a91ffca594f4dee">getTerm</a></div><div class="ttdeci">int getTerm(int y, int n)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:603</div></div>
<div class="ttc" id="_lunar_core_8m_html_a7c7526177c91cb65a4e696b532d52b95"><div class="ttname"><a href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a></div><div class="ttdeci">NSString * formatDay(int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:150</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a670d9295fa01358a336e32d2c4151d68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSString* getYearZodiac </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获得生肖</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>生肖 </dd></dl>
<div class="fragment"><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                                  {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordtype">int</span> num = year - 1890 + 25; <span class="comment">// 参考干支纪年的计算，生肖对应地支</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> i18n(<a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[<span class="stringliteral">@&quot;zodiac&quot;</span>][num % 12]);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a49e11048dc53866788c8ae7dca2816a8"><div class="ttname"><a href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a></div><div class="ttdeci">NSDictionary * lunarCalendarData()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:158</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75c34a52f578527768d9b89f1db0b87c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL isLeapYear </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>判断公历年是否是闰年</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>公历年</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>是否是闰年 </dd></dl>
<div class="fragment"><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                          {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> ((year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0));</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a358f2f7e622930a5b930000bdb3a8bdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL isNewLunarYear </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>判断是否处于农历新年</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_year</td><td>阳历年 </td></tr>
    <tr><td class="paramname">_month</td><td>阳历月 </td></tr>
    <tr><td class="paramname">_day</td><td>阳历日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>YES 表示处于农历新年 </dd></dl>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                                                     {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordtype">int</span> *springFestivalDate = springFestival[_year - minYear];</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordtype">int</span> springFestivalMonth = springFestivalDate[0];</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordtype">int</span> springFestivalDay = springFestivalDate[1];</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> (_month &gt; springFestivalMonth) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_month == springFestivalMonth) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">return</span> (_day &gt;= springFestivalDay);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a49e11048dc53866788c8ae7dca2816a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDictionary* lunarCalendarData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                  {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">static</span> NSDictionary *_lunarCalendarData = nil;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        _lunarCalendarData = @{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="stringliteral">@&quot;heavenlyStems&quot;</span>: @[@&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;], <span class="comment">// 天干</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="stringliteral">@&quot;earthlyBranches&quot;</span>: @[@&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;], <span class="comment">// 地支</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="stringliteral">@&quot;zodiac&quot;</span>: @[@&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;], <span class="comment">// 对应地支十二生肖</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="stringliteral">@&quot;solarTerm&quot;</span>: @[@&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;], <span class="comment">// 二十四节气</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="stringliteral">@&quot;monthCn&quot;</span>: @[@&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;, @&quot; &quot;],</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="stringliteral">@&quot;dateCn&quot;</span>: @[@&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;, @&quot;  &quot;]</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        };</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    });</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> _lunarCalendarData;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b98fa41147c6a77d2d8af84ad5a391d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDictionary* lunarFestival </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                              {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">static</span> NSDictionary *_lunarFestival = nil;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        _lunarFestival = @{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="stringliteral">@&quot;d0101&quot;</span>:<span class="stringliteral">@&quot;春节&quot;</span>,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="stringliteral">@&quot;d0115&quot;</span>:<span class="stringliteral">@&quot;元宵节&quot;</span>,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="stringliteral">@&quot;d0202&quot;</span>:<span class="stringliteral">@&quot;龙抬头节&quot;</span>,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="stringliteral">@&quot;d0505&quot;</span>:<span class="stringliteral">@&quot;端午节&quot;</span>,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="stringliteral">@&quot;d0707&quot;</span>:<span class="stringliteral">@&quot;七夕节&quot;</span>,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="stringliteral">@&quot;d0715&quot;</span>:<span class="stringliteral">@&quot;中元节&quot;</span>,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="stringliteral">@&quot;d0815&quot;</span>:<span class="stringliteral">@&quot;中秋节&quot;</span>,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="stringliteral">@&quot;d0909&quot;</span>:<span class="stringliteral">@&quot;重阳节&quot;</span>,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="stringliteral">@&quot;d1001&quot;</span>:<span class="stringliteral">@&quot;寒衣节&quot;</span>,</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="stringliteral">@&quot;d1015&quot;</span>:<span class="stringliteral">@&quot;下元节&quot;</span>,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="stringliteral">@&quot;d1208&quot;</span>:<span class="stringliteral">@&quot;腊八节&quot;</span>,</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="stringliteral">@&quot;d1223&quot;</span>:<span class="stringliteral">@&quot;小年&quot;</span>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="stringliteral">@&quot;d0100&quot;</span>:<span class="stringliteral">@&quot;除夕&quot;</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        };</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    });</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> _lunarFestival;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3400a98b14dddde64144bcc45a518dc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_l_c_memory_cache.html">LCMemoryCache</a>* memoryCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                             {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">static</span> <a class="code" href="interface_l_c_memory_cache.html">LCMemoryCache</a> *_memCache = nil;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        _memCache = [[<a class="code" href="interface_l_c_memory_cache.html">LCMemoryCache</a> alloc] init];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    });</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> _memCache;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="ttc" id="interface_l_c_memory_cache_html"><div class="ttname"><a href="interface_l_c_memory_cache.html">LCMemoryCache</a></div><div class="ttdef"><b>Definition:</b> LunarCore.m:40</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad71d8c06b4c52bd339023d00835c5fa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDate* NewDate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>构造 NSDate</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramname">day</td><td>日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NSDate </dd></dl>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                              {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_lunar_core_8m.html#a46346fd9fd0614c9499c4e4f33ae35b5">Date</a>(year, month - 1, day);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div>
<div class="ttc" id="_lunar_core_8m_html_a46346fd9fd0614c9499c4e4f33ae35b5"><div class="ttname"><a href="_lunar_core_8m.html#a46346fd9fd0614c9499c4e4f33ae35b5">Date</a></div><div class="ttdeci">NSDate * Date(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:369</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57959ece9b39f45947febc3aaca66e84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* solarCalendar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_month</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>某月公历</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_year</td><td>公历年 </td></tr>
    <tr><td class="paramname">_month</td><td>公历月</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>公历 </dd></dl>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                                          {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    NSMutableDictionary *inputDate = <a class="code" href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a>(_year, _month, -1);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (inputDate[<span class="stringliteral">@&quot;error&quot;</span>]) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">return</span> inputDate;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordtype">int</span> year = [inputDate[@&quot;year&quot;] intValue];</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordtype">int</span> month = [inputDate[@&quot;month&quot;] intValue];</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    NSDate *firstDate = <a class="code" href="_lunar_core_8m.html#a46346fd9fd0614c9499c4e4f33ae35b5">Date</a>(year, month, 1);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    NSMutableDictionary *res = <span class="comment">// 该月1号星期几</span><span class="comment">// 该月天数</span>[@{</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        @&quot;firstDay&quot;: @(getDay(firstDate)), </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        @&quot;monthDays&quot;: @(getSolarMonthDays(year, month)), </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        @&quot;monthData&quot;: [@[] mutableCopy]</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    } mutableCopy];</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    res[@&quot;monthData&quot;] = <a class="code" href="_lunar_core_8m.html#a699e88c46f2b968e39fc9ccd7635167c">createMonthData</a>(year, month + 1, [res[<span class="stringliteral">@&quot;monthDays&quot;</span>] intValue], 1);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordtype">int</span> firstDay = [res[@&quot;firstDay&quot;] intValue];</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    NSString *identifier = [[[NSLocale currentLocale] localeIdentifier] lowercaseString];</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> ([identifier hasSuffix:<span class="stringliteral">@&quot;japanese&quot;</span>] ||</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        [identifier hasSuffix:<span class="stringliteral">@&quot;buddhist&quot;</span>]) { <span class="comment">// 处理日本日历和佛教日历</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        ++ firstDay;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordtype">int</span> moveDays = (firstDay &gt;= weekStart)? firstDay: (firstDay + 7);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordtype">int</span> preFillDays = moveDays - weekStart;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">// 前补齐</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordtype">int</span> preYear = (month - 1 &lt; 0) ? (year - 1) : (year);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordtype">int</span> preMonth = (month - 1 &lt; 0) ? (11) : (month - 1);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordtype">int</span> preMonthDays = <a class="code" href="_lunar_core_8m.html#a8e688edba4cf44952ad008c24df92118">getSolarMonthDays</a>(preYear, preMonth);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    NSMutableArray *preMonthData = <a class="code" href="_lunar_core_8m.html#a699e88c46f2b968e39fc9ccd7635167c">createMonthData</a>(preYear, preMonth + 1, preFillDays, preMonthDays - preFillDays + 1);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    res[@&quot;monthData&quot;] = [[preMonthData arrayByAddingObjectsFromArray:res[@&quot;monthData&quot;]] mutableCopy];</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// 后补齐</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordtype">int</span> length = (int)[res[<span class="stringliteral">@&quot;monthData&quot;</span>] count];</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordtype">int</span> fillLen = 7 * 6 - length; <span class="comment">// [matrix 7 * 6]</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">if</span> (fillLen != 0) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordtype">int</span> nextYear = (month + 1 &gt; 11) ? (year + 1) : (year);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordtype">int</span> nextMonth = (month + 1 &gt; 11) ? (0) : (month + 1);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        NSMutableArray *nextMonthData = <a class="code" href="_lunar_core_8m.html#a699e88c46f2b968e39fc9ccd7635167c">createMonthData</a>(nextYear, nextMonth + 1, fillLen, 1);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        res[@&quot;monthData&quot;] = [[res[@&quot;monthData&quot;] arrayByAddingObjectsFromArray:nextMonthData] mutableCopy];</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a46346fd9fd0614c9499c4e4f33ae35b5"><div class="ttname"><a href="_lunar_core_8m.html#a46346fd9fd0614c9499c4e4f33ae35b5">Date</a></div><div class="ttdeci">NSDate * Date(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:369</div></div>
<div class="ttc" id="_lunar_core_8m_html_abe06e1a84a774f57dc43005307edab73"><div class="ttname"><a href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a></div><div class="ttdeci">NSMutableDictionary * formatDate(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:713</div></div>
<div class="ttc" id="_lunar_core_8m_html_a8e688edba4cf44952ad008c24df92118"><div class="ttname"><a href="_lunar_core_8m.html#a8e688edba4cf44952ad008c24df92118">getSolarMonthDays</a></div><div class="ttdeci">int getSolarMonthDays(int year, int month)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:696</div></div>
<div class="ttc" id="_lunar_core_8m_html_a699e88c46f2b968e39fc9ccd7635167c"><div class="ttname"><a href="_lunar_core_8m.html#a699e88c46f2b968e39fc9ccd7635167c">createMonthData</a></div><div class="ttdeci">NSMutableArray * createMonthData(int year, int month, int len, int start)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:111</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6ec519373f5e98c9d67866fd2ff21a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDictionary* solarFestival </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                              {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">static</span> NSDictionary *_solarFestival = nil;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        _solarFestival = @{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="stringliteral">@&quot;d0101&quot;</span>:<span class="stringliteral">@&quot;元旦节&quot;</span>,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="stringliteral">@&quot;d0120&quot;</span>:<span class="stringliteral">@&quot;水瓶&quot;</span>,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="stringliteral">@&quot;d0202&quot;</span>:<span class="stringliteral">@&quot;湿地日-世界湿地日&quot;</span>,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="stringliteral">@&quot;d0210&quot;</span>:<span class="stringliteral">@&quot;*国际气象节&quot;</span>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="stringliteral">@&quot;d0214&quot;</span>:<span class="stringliteral">@&quot;情人节&quot;</span>,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="stringliteral">@&quot;d0219&quot;</span>:<span class="stringliteral">@&quot;双鱼&quot;</span>,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="stringliteral">@&quot;d0301&quot;</span>:<span class="stringliteral">@&quot;*国际海豹日&quot;</span>,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="stringliteral">@&quot;d0303&quot;</span>:<span class="stringliteral">@&quot;*全国爱耳日&quot;</span>,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="stringliteral">@&quot;d0305&quot;</span>:<span class="stringliteral">@&quot;学雷锋-学雷锋纪念日&quot;</span>,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="stringliteral">@&quot;d0308&quot;</span>:<span class="stringliteral">@&quot;妇女节&quot;</span>,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="stringliteral">@&quot;d0312&quot;</span>:<span class="stringliteral">@&quot;植树节 孙中山逝世纪念日&quot;</span>,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="stringliteral">@&quot;d0314&quot;</span>:<span class="stringliteral">@&quot;*国际警察日&quot;</span>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="stringliteral">@&quot;d0315&quot;</span>:<span class="stringliteral">@&quot;消费者-消费者权益日&quot;</span>,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="stringliteral">@&quot;d0317&quot;</span>:<span class="stringliteral">@&quot;*中国国医节 国际航海日&quot;</span>,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="stringliteral">@&quot;d0321&quot;</span>:<span class="stringliteral">@&quot;白羊 世界森林日 消除种族歧视国际日 世界儿歌日&quot;</span>,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="stringliteral">@&quot;d0322&quot;</span>:<span class="stringliteral">@&quot;*世界水日&quot;</span>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="stringliteral">@&quot;d0323&quot;</span>:<span class="stringliteral">@&quot;*世界气象日&quot;</span>,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="stringliteral">@&quot;d0324&quot;</span>:<span class="stringliteral">@&quot;*世界防治结核病日&quot;</span>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="stringliteral">@&quot;d0325&quot;</span>:<span class="stringliteral">@&quot;*全国中小学生安全教育日&quot;</span>,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="stringliteral">@&quot;d0330&quot;</span>:<span class="stringliteral">@&quot;*巴勒斯坦国土日&quot;</span>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="stringliteral">@&quot;d0401&quot;</span>:<span class="stringliteral">@&quot;愚人节 全国爱国卫生运动月 税收宣传月&quot;</span>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="stringliteral">@&quot;d0407&quot;</span>:<span class="stringliteral">@&quot;*世界卫生日&quot;</span>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="stringliteral">@&quot;d0420&quot;</span>:<span class="stringliteral">@&quot;金牛&quot;</span>,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="stringliteral">@&quot;d0422&quot;</span>:<span class="stringliteral">@&quot;地球日-世界地球日&quot;</span>,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="stringliteral">@&quot;d0423&quot;</span>:<span class="stringliteral">@&quot;*世界图书和版权日&quot;</span>,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="stringliteral">@&quot;d0424&quot;</span>:<span class="stringliteral">@&quot;*亚非新闻工作者日&quot;</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="stringliteral">@&quot;d0501&quot;</span>:<span class="stringliteral">@&quot;劳动节&quot;</span>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="stringliteral">@&quot;d0504&quot;</span>:<span class="stringliteral">@&quot;青年节&quot;</span>,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="stringliteral">@&quot;d0505&quot;</span>:<span class="stringliteral">@&quot;*碘缺乏病防治日&quot;</span>,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="stringliteral">@&quot;d0508&quot;</span>:<span class="stringliteral">@&quot;*世界红十字日&quot;</span>,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="stringliteral">@&quot;d0512&quot;</span>:<span class="stringliteral">@&quot;护士节-国际护士节&quot;</span>,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="stringliteral">@&quot;d0515&quot;</span>:<span class="stringliteral">@&quot;*国际家庭日&quot;</span>,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="stringliteral">@&quot;d0517&quot;</span>:<span class="stringliteral">@&quot;*世界电信日&quot;</span>,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="stringliteral">@&quot;d0518&quot;</span>:<span class="stringliteral">@&quot;博物馆-国际博物馆日&quot;</span>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="stringliteral">@&quot;d0520&quot;</span>:<span class="stringliteral">@&quot;*全国学生营养日&quot;</span>,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="stringliteral">@&quot;d0521&quot;</span>:<span class="stringliteral">@&quot;双子&quot;</span>,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="stringliteral">@&quot;d0522&quot;</span>:<span class="stringliteral">@&quot;*国际生物多样性日&quot;</span>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="stringliteral">@&quot;d0531&quot;</span>:<span class="stringliteral">@&quot;*世界无烟日&quot;</span>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="stringliteral">@&quot;d0601&quot;</span>:<span class="stringliteral">@&quot;儿童节-国际儿童节&quot;</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="stringliteral">@&quot;d0605&quot;</span>:<span class="stringliteral">@&quot;环境日-世界环境日&quot;</span>,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="stringliteral">@&quot;d0606&quot;</span>:<span class="stringliteral">@&quot;*全国爱眼日&quot;</span>,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="stringliteral">@&quot;d0617&quot;</span>:<span class="stringliteral">@&quot;*防治荒漠化和干旱日&quot;</span>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="stringliteral">@&quot;d0622&quot;</span>:<span class="stringliteral">@&quot;巨蟹&quot;</span>,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="stringliteral">@&quot;d0623&quot;</span>:<span class="stringliteral">@&quot;奥林匹克-国际奥林匹克日&quot;</span>,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="stringliteral">@&quot;d0625&quot;</span>:<span class="stringliteral">@&quot;*全国土地日&quot;</span>,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="stringliteral">@&quot;d0626&quot;</span>:<span class="stringliteral">@&quot;*国际禁毒日&quot;</span>,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="stringliteral">@&quot;d0701&quot;</span>:<span class="stringliteral">@&quot;建党节 香港回归纪念日 中共诞辰 世界建筑日&quot;</span>,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="stringliteral">@&quot;d0702&quot;</span>:<span class="stringliteral">@&quot;*国际体育记者日&quot;</span>,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="stringliteral">@&quot;d0707&quot;</span>:<span class="stringliteral">@&quot;*抗日战争纪念日&quot;</span>,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="stringliteral">@&quot;d0711&quot;</span>:<span class="stringliteral">@&quot;*世界人口日&quot;</span>,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="stringliteral">@&quot;d0723&quot;</span>:<span class="stringliteral">@&quot;狮子&quot;</span>,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="stringliteral">@&quot;d0730&quot;</span>:<span class="stringliteral">@&quot;*非洲妇女日&quot;</span>,</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="stringliteral">@&quot;d0801&quot;</span>:<span class="stringliteral">@&quot;建军节&quot;</span>,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="stringliteral">@&quot;d0808&quot;</span>:<span class="stringliteral">@&quot;*中国男子节(爸爸节)&quot;</span>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="stringliteral">@&quot;d0823&quot;</span>:<span class="stringliteral">@&quot;处女&quot;</span>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="stringliteral">@&quot;d0903&quot;</span>:<span class="stringliteral">@&quot;抗日战争-抗日战争胜利纪念&quot;</span>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="stringliteral">@&quot;d0908&quot;</span>:<span class="stringliteral">@&quot;*国际扫盲日 国际新闻工作者日&quot;</span>,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="stringliteral">@&quot;d0909&quot;</span>:<span class="stringliteral">@&quot;*毛泽东逝世纪念&quot;</span>,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="stringliteral">@&quot;d0910&quot;</span>:<span class="stringliteral">@&quot;教师节-中国教师节&quot;</span>,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="stringliteral">@&quot;d0914&quot;</span>:<span class="stringliteral">@&quot;*世界清洁地球日&quot;</span>,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="stringliteral">@&quot;d0916&quot;</span>:<span class="stringliteral">@&quot;*国际臭氧层保护日&quot;</span>,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="stringliteral">@&quot;d0918&quot;</span>:<span class="stringliteral">@&quot;*九一八事变纪念日&quot;</span>,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="stringliteral">@&quot;d0920&quot;</span>:<span class="stringliteral">@&quot;*国际爱牙日&quot;</span>,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="stringliteral">@&quot;d0923&quot;</span>:<span class="stringliteral">@&quot;天秤&quot;</span>,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="stringliteral">@&quot;d0927&quot;</span>:<span class="stringliteral">@&quot;*世界旅游日&quot;</span>,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="stringliteral">@&quot;d0928&quot;</span>:<span class="stringliteral">@&quot;*孔子诞辰&quot;</span>,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="stringliteral">@&quot;d1001&quot;</span>:<span class="stringliteral">@&quot;国庆节 世界音乐日 国际老人节&quot;</span>,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="stringliteral">@&quot;d1002&quot;</span>:<span class="stringliteral">@&quot;*国际和平与民主自由斗争日&quot;</span>,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="stringliteral">@&quot;d1004&quot;</span>:<span class="stringliteral">@&quot;*世界动物日&quot;</span>,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="stringliteral">@&quot;d1006&quot;</span>:<span class="stringliteral">@&quot;*老人节&quot;</span>,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="stringliteral">@&quot;d1008&quot;</span>:<span class="stringliteral">@&quot;*全国高血压日&quot;</span>,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="stringliteral">@&quot;d1009&quot;</span>:<span class="stringliteral">@&quot;*世界邮政日 万国邮联日&quot;</span>,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="stringliteral">@&quot;d1010&quot;</span>:<span class="stringliteral">@&quot;*辛亥革命纪念日 世界精神卫生日&quot;</span>,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="stringliteral">@&quot;d1013&quot;</span>:<span class="stringliteral">@&quot;*世界保健日 国际教师节&quot;</span>,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="stringliteral">@&quot;d1014&quot;</span>:<span class="stringliteral">@&quot;*世界标准日&quot;</span>,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="stringliteral">@&quot;d1015&quot;</span>:<span class="stringliteral">@&quot;*国际盲人节(白手杖节)&quot;</span>,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="stringliteral">@&quot;d1016&quot;</span>:<span class="stringliteral">@&quot;*世界粮食日&quot;</span>,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="stringliteral">@&quot;d1017&quot;</span>:<span class="stringliteral">@&quot;*世界消除贫困日&quot;</span>,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="stringliteral">@&quot;d1022&quot;</span>:<span class="stringliteral">@&quot;*世界传统医药日&quot;</span>,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="stringliteral">@&quot;d1024&quot;</span>:<span class="stringliteral">@&quot;天蝎 联合国日 世界发展信息日&quot;</span>,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="stringliteral">@&quot;d1031&quot;</span>:<span class="stringliteral">@&quot;万圣节 世界勤俭日&quot;</span>,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="stringliteral">@&quot;d1107&quot;</span>:<span class="stringliteral">@&quot;*十月社会主义革命纪念日&quot;</span>,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="stringliteral">@&quot;d1108&quot;</span>:<span class="stringliteral">@&quot;*中国记者日&quot;</span>,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="stringliteral">@&quot;d1109&quot;</span>:<span class="stringliteral">@&quot;*全国消防安全宣传教育日&quot;</span>,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="stringliteral">@&quot;d1110&quot;</span>:<span class="stringliteral">@&quot;*世界青年节&quot;</span>,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="stringliteral">@&quot;d1111&quot;</span>:<span class="stringliteral">@&quot;光棍节 国际科学与和平周(本日所属的一周)&quot;</span>,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="stringliteral">@&quot;d1112&quot;</span>:<span class="stringliteral">@&quot;*孙中山诞辰纪念日&quot;</span>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="stringliteral">@&quot;d1114&quot;</span>:<span class="stringliteral">@&quot;*世界糖尿病日&quot;</span>,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="stringliteral">@&quot;d1117&quot;</span>:<span class="stringliteral">@&quot;*国际大学生节 世界学生节&quot;</span>,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="stringliteral">@&quot;d1121&quot;</span>:<span class="stringliteral">@&quot;*世界问候日 世界电视日&quot;</span>,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="stringliteral">@&quot;d1123&quot;</span>:<span class="stringliteral">@&quot;射手&quot;</span>,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="stringliteral">@&quot;d1129&quot;</span>:<span class="stringliteral">@&quot;*国际声援巴勒斯坦人民国际日&quot;</span>,</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="stringliteral">@&quot;d1201&quot;</span>:<span class="stringliteral">@&quot;艾滋病-世界艾滋病日&quot;</span>,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="stringliteral">@&quot;d1203&quot;</span>:<span class="stringliteral">@&quot;*世界残疾人日&quot;</span>,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="stringliteral">@&quot;d1205&quot;</span>:<span class="stringliteral">@&quot;*国际经济和社会发展志愿人员日&quot;</span>,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="stringliteral">@&quot;d1208&quot;</span>:<span class="stringliteral">@&quot;*国际儿童电视日&quot;</span>,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="stringliteral">@&quot;d1209&quot;</span>:<span class="stringliteral">@&quot;*世界足球日&quot;</span>,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="stringliteral">@&quot;d1210&quot;</span>:<span class="stringliteral">@&quot;*世界人权日&quot;</span>,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="stringliteral">@&quot;d1212&quot;</span>:<span class="stringliteral">@&quot;*西安事变纪念日&quot;</span>,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="stringliteral">@&quot;d1213&quot;</span>:<span class="stringliteral">@&quot;*南京大屠杀(1937年)纪念日！紧记血泪史！&quot;</span>,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="stringliteral">@&quot;d1220&quot;</span>:<span class="stringliteral">@&quot;*澳门回归纪念&quot;</span>,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="stringliteral">@&quot;d1221&quot;</span>:<span class="stringliteral">@&quot;*国际篮球日&quot;</span>,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="stringliteral">@&quot;d1222&quot;</span>:<span class="stringliteral">@&quot;摩羯&quot;</span>,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="stringliteral">@&quot;d1224&quot;</span>:<span class="stringliteral">@&quot;平安夜&quot;</span>,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="stringliteral">@&quot;d1225&quot;</span>:<span class="stringliteral">@&quot;圣诞节&quot;</span>,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="stringliteral">@&quot;d1226&quot;</span>:<span class="stringliteral">@&quot;*毛泽东诞辰纪念&quot;</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        };</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    });</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> _solarFestival;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad491453fa3441f38fe4aa6d2dc3dae17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* solarToLunar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>公历转换成农历</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_year</td><td>公历年 </td></tr>
    <tr><td class="paramname">_month</td><td>公历月 </td></tr>
    <tr><td class="paramname">_day</td><td>公历日</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>农历年月日 </dd></dl>
<div class="fragment"><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                                                                   {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    NSMutableDictionary *inputDate = <a class="code" href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a>(_year, _month, _day);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (inputDate[<span class="stringliteral">@&quot;error&quot;</span>]) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">return</span> inputDate;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordtype">int</span> year = [inputDate[@&quot;year&quot;] intValue];</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordtype">int</span> month = [inputDate[@&quot;month&quot;] intValue];</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordtype">int</span> day = [inputDate[@&quot;day&quot;] intValue];</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    [memoryCache() setCurrent:year];</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">// 二十四节气</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    NSMutableDictionary *termList;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordtype">id</span> termListCache = [memoryCache() get:@&quot;termList&quot;];</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (termListCache) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        termList = (NSMutableDictionary *)termListCache;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        termList = <a class="code" href="_lunar_core_8m.html#a4881cf067cf11d090e2712154d9d1d76">getYearTerm</a>(year);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        [memoryCache() setKey:@&quot;termList&quot; value:termList];</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// 干支所在年份</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordtype">int</span> GanZhiYear = <a class="code" href="_lunar_core_8m.html#a358f2f7e622930a5b930000bdb3a8bdc">isNewLunarYear</a>(_year, _month, _day) ? (year + 1) : (year);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    NSMutableArray *lunarDate = <a class="code" href="_lunar_core_8m.html#a47f0571804bc48c6a45c9079c24454ac">getLunarByBetween</a>(year, month, day);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordtype">int</span> lunarDate0 = [lunarDate[0] intValue];</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">int</span> lunarDate1 = [lunarDate[1] intValue];</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordtype">int</span> lunarDate2 = [lunarDate[2] intValue];</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordtype">int</span> lunarLeapMonth = <a class="code" href="_lunar_core_8m.html#a099d9b08f1b245c171ae348661f863cb">getLunarLeapYear</a>(lunarDate0);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    NSString *lunarMonthName;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span> (lunarLeapMonth &gt; 0 &amp;&amp; lunarLeapMonth == lunarDate1) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        NSString *mStr = i18n(<a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[<span class="stringliteral">@&quot;monthCn&quot;</span>][lunarDate1 - 1]);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        lunarMonthName = [NSString stringWithFormat:@&quot; %@ &quot;, mStr];</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(lunarLeapMonth &gt; 0 &amp;&amp; lunarDate1 &gt; lunarLeapMonth) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        NSString *mStr = i18n(<a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[<span class="stringliteral">@&quot;monthCn&quot;</span>][lunarDate1 - 1]);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        lunarMonthName = [NSString stringWithFormat:@&quot;%@ &quot;, mStr];</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        NSString *mStr = i18n(<a class="code" href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a>()[<span class="stringliteral">@&quot;monthCn&quot;</span>][lunarDate1]);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        lunarMonthName = [NSString stringWithFormat:@&quot;%@ &quot;, mStr];</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// 农历节日判断</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    NSString *lunarFtv;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    NSMutableArray *lunarMonthDays = <a class="code" href="_lunar_core_8m.html#a3c215258e8fc67993527d789a2a0c516">getLunarYearDays</a>(lunarDate0)[@&quot;monthDays&quot;];</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// 除夕</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> ((lunarDate1 == lunarMonthDays.count - 1) &amp;&amp;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        (lunarDate2 == [lunarMonthDays[lunarMonthDays.count - 1] intValue])) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        lunarFtv = <a class="code" href="_lunar_core_8m.html#a6b98fa41147c6a77d2d8af84ad5a391d">lunarFestival</a>()[@&quot;d0100&quot;];</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lunarLeapMonth &gt; 0 &amp;&amp; lunarDate1 &gt; lunarLeapMonth) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        NSString *date = <a class="code" href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a>(lunarDate1 - 1,lunarDate2);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        lunarFtv = <a class="code" href="_lunar_core_8m.html#a6b98fa41147c6a77d2d8af84ad5a391d">lunarFestival</a>()[date];</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        NSString *date = <a class="code" href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a>(lunarDate1,lunarDate2);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        lunarFtv = <a class="code" href="_lunar_core_8m.html#a6b98fa41147c6a77d2d8af84ad5a391d">lunarFestival</a>()[date];</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// 放假安排：0无特殊安排，1工作，2放假</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    NSString *yearKey = [NSString stringWithFormat:@&quot;y%d&quot;, year];</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    NSString *dayKey = <a class="code" href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a>(month, day);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    NSNumber *workTime = @0;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    NSNumber *hasData = <a class="code" href="_lunar_core_8m.html#a5b9568b393ebd79d15260a85adeb2952">worktime</a>()[yearKey][dayKey];</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">if</span> (hasData) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        workTime = hasData;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    NSMutableDictionary *res = [@{</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        @&quot;lunarDay&quot;: lunarDate[2],</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        @&quot;lunarMonthName&quot;: $(lunarMonthName),</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        @&quot;lunarDayName&quot;: $(lunarCalendarData()[@&quot;dateCn&quot;][lunarDate2 - 1]),</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        @&quot;solarFestival&quot;: i18n($(solarFestival()[formatDay(month,day)])),</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        @&quot;lunarFestival&quot;: $(i18n(lunarFtv)),</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        @&quot;weekFestival&quot;: $(getWeekFestival(year, month + 1, day)),</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        @&quot;worktime&quot;: workTime,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        @&quot;GanZhiYear&quot;: $(getLunarYearName(GanZhiYear, 0)),</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        @&quot;zodiac&quot;: $(getYearZodiac(GanZhiYear)),</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        @&quot;term&quot;: $(termList[formatDay(month, day)])</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    } mutableCopy];</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;};</div>
<div class="ttc" id="_lunar_core_8m_html_a358f2f7e622930a5b930000bdb3a8bdc"><div class="ttname"><a href="_lunar_core_8m.html#a358f2f7e622930a5b930000bdb3a8bdc">isNewLunarYear</a></div><div class="ttdeci">BOOL isNewLunarYear(int _year, int _month, int _day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:743</div></div>
<div class="ttc" id="_lunar_core_8m_html_a5b9568b393ebd79d15260a85adeb2952"><div class="ttname"><a href="_lunar_core_8m.html#a5b9568b393ebd79d15260a85adeb2952">worktime</a></div><div class="ttdeci">NSMutableDictionary * worktime()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:175</div></div>
<div class="ttc" id="_lunar_core_8m_html_a3c215258e8fc67993527d789a2a0c516"><div class="ttname"><a href="_lunar_core_8m.html#a3c215258e8fc67993527d789a2a0c516">getLunarYearDays</a></div><div class="ttdeci">NSMutableDictionary * getLunarYearDays(int year)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:467</div></div>
<div class="ttc" id="_lunar_core_8m_html_abe06e1a84a774f57dc43005307edab73"><div class="ttname"><a href="_lunar_core_8m.html#abe06e1a84a774f57dc43005307edab73">formatDate</a></div><div class="ttdeci">NSMutableDictionary * formatDate(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:713</div></div>
<div class="ttc" id="_lunar_core_8m_html_a49e11048dc53866788c8ae7dca2816a8"><div class="ttname"><a href="_lunar_core_8m.html#a49e11048dc53866788c8ae7dca2816a8">lunarCalendarData</a></div><div class="ttdeci">NSDictionary * lunarCalendarData()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:158</div></div>
<div class="ttc" id="_lunar_core_8m_html_a099d9b08f1b245c171ae348661f863cb"><div class="ttname"><a href="_lunar_core_8m.html#a099d9b08f1b245c171ae348661f863cb">getLunarLeapYear</a></div><div class="ttdeci">int getLunarLeapYear(int year)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:446</div></div>
<div class="ttc" id="_lunar_core_8m_html_a47f0571804bc48c6a45c9079c24454ac"><div class="ttname"><a href="_lunar_core_8m.html#a47f0571804bc48c6a45c9079c24454ac">getLunarByBetween</a></div><div class="ttdeci">NSMutableArray * getLunarByBetween(int year, int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:558</div></div>
<div class="ttc" id="_lunar_core_8m_html_a6b98fa41147c6a77d2d8af84ad5a391d"><div class="ttname"><a href="_lunar_core_8m.html#a6b98fa41147c6a77d2d8af84ad5a391d">lunarFestival</a></div><div class="ttdeci">NSDictionary * lunarFestival()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:309</div></div>
<div class="ttc" id="_lunar_core_8m_html_a7c7526177c91cb65a4e696b532d52b95"><div class="ttname"><a href="_lunar_core_8m.html#a7c7526177c91cb65a4e696b532d52b95">formatDay</a></div><div class="ttdeci">NSString * formatDay(int month, int day)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:150</div></div>
<div class="ttc" id="_lunar_core_8m_html_a4881cf067cf11d090e2712154d9d1d76"><div class="ttname"><a href="_lunar_core_8m.html#a4881cf067cf11d090e2712154d9d1d76">getYearTerm</a></div><div class="ttdeci">NSMutableDictionary * getYearTerm(int year)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:620</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d94d930166b970e8479f5d9ecad61ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSTimeZone* timeZone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                       {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">static</span> NSTimeZone *_timeZone = nil;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        _timeZone = [NSTimeZone timeZoneForSecondsFromGMT:0];</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    });</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> _timeZone;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59110b3a1afc8b8df7b036e1b4ab70b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSArray* toString </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                           {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    NSMutableArray *arr = [[NSMutableArray alloc] init];</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">while</span> (num) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        [arr addObject:[@(num &amp; 1) stringValue]];</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        num &gt;&gt;= 1;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> [[arr reverseObjectEnumerator] allObjects];</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ac9995e307c532b2521419266ed1efc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSTimeInterval UTC </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>某年的第n个节气为几日 由于农历24节气交节时刻采用近似算法，可能存在少量误差(30分钟内) 31556925974.7为地球公转周期，是毫秒 1890年的正小寒点：01-05 16:02:31，1890年为基准点</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">y</td><td>公历年 </td></tr>
    <tr><td class="paramname">n</td><td>第几个节气，从0小寒起算 </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                                                             {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    NSCalendar *<a class="code" href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a> = [NSCalendar currentCalendar];</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    NSDateComponents *comp = [[NSDateComponents alloc] init];</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    comp.year = year; comp.month = month + 1; comp.day = day;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    comp.hour = hour; comp.minute = min; comp.second = sec;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    calendar.timeZone = <a class="code" href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a>();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    NSDate *date = [calendar dateFromComponents:comp];</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span> [date timeIntervalSince1970] * 1000;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div>
<div class="ttc" id="_lunar_core_8m_html_a66a2143e3b4e4dd3b5534f615520cbb1"><div class="ttname"><a href="_lunar_core_8m.html#a66a2143e3b4e4dd3b5534f615520cbb1">calendar</a></div><div class="ttdeci">NSMutableDictionary * calendar(int _year, int _month)</div><div class="ttdef"><b>Definition:</b> LunarCore.m:911</div></div>
<div class="ttc" id="_lunar_core_8m_html_a4d94d930166b970e8479f5d9ecad61ca"><div class="ttname"><a href="_lunar_core_8m.html#a4d94d930166b970e8479f5d9ecad61ca">timeZone</a></div><div class="ttdeci">NSTimeZone * timeZone()</div><div class="ttdef"><b>Definition:</b> LunarCore.m:92</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5461dae8383f7245b4be922a94c61cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSDictionary* weekFestival </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                             {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">static</span> NSDictionary *_weekFestvial = nil;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        _weekFestvial = @{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="stringliteral">@&quot;0513&quot;</span>:<span class="stringliteral">@&quot;*世界哮喘日&quot;</span>,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="stringliteral">@&quot;0521&quot;</span>:<span class="stringliteral">@&quot;母亲节-国际母亲节 救助贫困母亲日&quot;</span>,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="stringliteral">@&quot;0531&quot;</span>:<span class="stringliteral">@&quot;*全国助残日&quot;</span>,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="stringliteral">@&quot;0533&quot;</span>:<span class="stringliteral">@&quot;*国际牛奶日&quot;</span>,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="stringliteral">@&quot;0627&quot;</span>:<span class="stringliteral">@&quot;*中国文化遗产日&quot;</span>,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="stringliteral">@&quot;0631&quot;</span>:<span class="stringliteral">@&quot;父亲节&quot;</span>,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="stringliteral">@&quot;0717&quot;</span>:<span class="stringliteral">@&quot;*国际合作节&quot;</span>,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="stringliteral">@&quot;0731&quot;</span>:<span class="stringliteral">@&quot;*被奴役国家周&quot;</span>,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="stringliteral">@&quot;0933&quot;</span>:<span class="stringliteral">@&quot;*国际和平日&quot;</span>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="stringliteral">@&quot;0937&quot;</span>:<span class="stringliteral">@&quot;*全民国防教育日&quot;</span>,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="stringliteral">@&quot;0941&quot;</span>:<span class="stringliteral">@&quot;*国际聋人节 世界儿童日&quot;</span>,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="stringliteral">@&quot;0951&quot;</span>:<span class="stringliteral">@&quot;*世界海事日 世界心脏病日&quot;</span>,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="stringliteral">@&quot;1012&quot;</span>:<span class="stringliteral">@&quot;*国际住房日 世界建筑日 世界人居日&quot;</span>,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="stringliteral">@&quot;1024&quot;</span>:<span class="stringliteral">@&quot;*国际减灾日&quot;</span>,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="stringliteral">@&quot;1025&quot;</span>:<span class="stringliteral">@&quot;*世界视觉日&quot;</span>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="stringliteral">@&quot;1145&quot;</span>:<span class="stringliteral">@&quot;感恩节&quot;</span>,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="stringliteral">@&quot;1221&quot;</span>:<span class="stringliteral">@&quot;*国际儿童电视广播日&quot;</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        };</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    });</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> _weekFestvial;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b9568b393ebd79d15260a85adeb2952"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NSMutableDictionary* worktime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">static</span> NSMutableDictionary *_worktime = nil;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">static</span> dispatch_once_t token;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    dispatch_once(&amp;token, ^{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        _worktime = [@{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            @&quot;y2013&quot;: @{@&quot;d0101&quot;:@2,@&quot;d0102&quot;:@2,@&quot;d0103&quot;:@2,@&quot;d0105&quot;:@1,@&quot;d0106&quot;:@1,@&quot;d0209&quot;:@2,@&quot;d0210&quot;:@2,@&quot;d0211&quot;:@2,@&quot;d0212&quot;:@2,@&quot;d0213&quot;:@2,@&quot;d0214&quot;:@2,@&quot;d0215&quot;:@2,@&quot;d0216&quot;:@1,@&quot;d0217&quot;:@1,@&quot;d0404&quot;:@2,@&quot;d0405&quot;:@2,@&quot;d0406&quot;:@2,@&quot;d0407&quot;:@1,@&quot;d0427&quot;:@1,@&quot;d0428&quot;:@1,@&quot;d0429&quot;:@2,@&quot;d0430&quot;:@2,@&quot;d0501&quot;:@2,@&quot;d0608&quot;:@1,@&quot;d0609&quot;:@1,@&quot;d0610&quot;:@2,@&quot;d0611&quot;:@2,@&quot;d0612&quot;:@2,@&quot;d0919&quot;:@2,@&quot;d0920&quot;:@2,@&quot;d0921&quot;:@2,@&quot;d0922&quot;:@1,@&quot;d0929&quot;:@1,@&quot;d1001&quot;:@2,@&quot;d1002&quot;:@2,@&quot;d1003&quot;:@2,@&quot;d1004&quot;:@2,@&quot;d1005&quot;:@2,@&quot;d1006&quot;:@2,@&quot;d1007&quot;:@2,@&quot;d1012&quot;:@1},</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            @&quot;y2014&quot;: @{@&quot;d0101&quot;:@2,@&quot;d0126&quot;:@1,@&quot;d0131&quot;:@2,@&quot;d0201&quot;:@2,@&quot;d0202&quot;:@2,@&quot;d0203&quot;:@2,@&quot;d0204&quot;:@2,@&quot;d0205&quot;:@2,@&quot;d0206&quot;:@2,@&quot;d0208&quot;:@1,@&quot;d0405&quot;:@2,@&quot;d0407&quot;:@2,@&quot;d0501&quot;:@2,@&quot;d0502&quot;:@2,@&quot;d0503&quot;:@2,@&quot;d0504&quot;:@1,@&quot;d0602&quot;:@2,@&quot;d0908&quot;:@2,@&quot;d0928&quot;:@1,@&quot;d1001&quot;:@2,@&quot;d1002&quot;:@2,@&quot;d1003&quot;:@2,@&quot;d1004&quot;:@2,@&quot;d1005&quot;:@2,@&quot;d1006&quot;:@2,@&quot;d1007&quot;:@2,@&quot;d1011&quot;:@1},</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            @&quot;y2015&quot;: @{@&quot;d0101&quot;:@2,@&quot;d0102&quot;:@2,@&quot;d0103&quot;:@2,@&quot;d0104&quot;:@1,@&quot;d0215&quot;:@1,@&quot;d0218&quot;:@2,@&quot;d0219&quot;:@2,@&quot;d0220&quot;:@2,@&quot;d0221&quot;:@2,@&quot;d0222&quot;:@2,@&quot;d0223&quot;:@2,@&quot;d0224&quot;:@2,@&quot;d0228&quot;:@1,@&quot;d0404&quot;:@2,@&quot;d0405&quot;:@2,@&quot;d0406&quot;:@2,@&quot;d0501&quot;:@2,@&quot;d0502&quot;:@2,@&quot;d0503&quot;:@2,@&quot;d0620&quot;:@2,@&quot;d0621&quot;:@2,@&quot;d0622&quot;:@2,@&quot;d0903&quot;:@2,@&quot;d0904&quot;:@2,@&quot;d0905&quot;:@2,@&quot;d0906&quot;:@1,@&quot;d0926&quot;:@2,@&quot;d0927&quot;:@2,@&quot;d1001&quot;:@2,@&quot;d1002&quot;:@2,@&quot;d1003&quot;:@2,@&quot;d1004&quot;:@2,@&quot;d1005&quot;:@2,@&quot;d1006&quot;:@2,@&quot;d1007&quot;:@2,@&quot;d1010&quot;:@1},</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            @&quot;y2016&quot;: @{@&quot;d0101&quot;:@2,@&quot;d0102&quot;:@2,@&quot;d0103&quot;:@2,@&quot;d0206&quot;:@1,@&quot;d0207&quot;:@2,@&quot;d0208&quot;:@2,@&quot;d0209&quot;:@2,@&quot;d0210&quot;:@2,@&quot;d0211&quot;:@2,@&quot;d0212&quot;:@2,@&quot;d0213&quot;:@2,@&quot;d0214&quot;:@1,@&quot;d0402&quot;:@2,@&quot;d0403&quot;:@2,@&quot;d0404&quot;:@2,@&quot;d0430&quot;:@2,@&quot;d0501&quot;:@2,@&quot;d0502&quot;:@2,@&quot;d0609&quot;:@2,@&quot;d0610&quot;:@2,@&quot;d0611&quot;:@2,@&quot;d0612&quot;:@1,@&quot;d0915&quot;:@2,@&quot;d0916&quot;:@2,@&quot;d0917&quot;:@2,@&quot;d0918&quot;:@1,@&quot;d1001&quot;:@2,@&quot;d1002&quot;:@2,@&quot;d1003&quot;:@2,@&quot;d1004&quot;:@2,@&quot;d1005&quot;:@2,@&quot;d1006&quot;:@2,@&quot;d1007&quot;:@2,@&quot;d1008&quot;:@1,@&quot;d1009&quot;:@1}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        } mutableCopy];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    });</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> _worktime;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 1 2016 23:27:19 for XDCommonLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
